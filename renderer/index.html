<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self'" />
  <title data-i18n="app.title">WSL Cleaner</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Custom title bar -->
  <header id="titlebar">
    <div class="titlebar-drag">
      <div class="titlebar-menu-wrap">
        <button id="btn-app-menu" class="titlebar-menu-btn" aria-label="Menu" data-i18n-aria="menu.title">
          <svg class="titlebar-icon" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 6h18M3 12h18M3 18h18"/>
          </svg>
        </button>
        <div id="app-menu-dropdown" class="app-menu-dropdown hidden">
          <button class="app-menu-item" id="menu-reload">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="1,4 1,10 7,10"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
            </svg>
            <span data-i18n="menu.reload">Reload Window</span>
          </button>
          <button class="app-menu-item" id="menu-toggle-fullscreen">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="15,3 21,3 21,9"/><polyline points="9,21 3,21 3,15"/><line x1="21" y1="3" x2="14" y2="10"/><line x1="3" y1="21" x2="10" y2="14"/>
            </svg>
            <span data-i18n="menu.fullscreen">Toggle Fullscreen</span>
          </button>
          <div class="app-menu-separator"></div>
          <button class="app-menu-item" id="menu-about">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/>
            </svg>
            <span data-i18n="menu.about">About</span>
          </button>
          <div class="app-menu-separator"></div>
          <button class="app-menu-item app-menu-item-danger" id="menu-exit">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16,17 21,12 16,7"/><line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
            <span data-i18n="menu.exit">Exit</span>
          </button>
        </div>
      </div>
      <span class="titlebar-title" data-i18n="app.title">WSL Cleaner</span>
    </div>
    <div class="titlebar-controls">
      <button id="btn-minimize" class="titlebar-btn" aria-label="Minimize" data-i18n-aria="titlebar.minimize">
        <svg width="12" height="12" viewBox="0 0 12 12"><rect y="5" width="12" height="2" fill="currentColor"/></svg>
      </button>
      <button id="btn-maximize" class="titlebar-btn" aria-label="Maximize" data-i18n-aria="titlebar.maximize">
        <svg width="12" height="12" viewBox="0 0 12 12"><rect x="1" y="1" width="10" height="10" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
      </button>
      <button id="btn-close" class="titlebar-btn btn-close" aria-label="Close" data-i18n-aria="titlebar.close">
        <svg width="12" height="12" viewBox="0 0 12 12"><path d="M1 1l10 10M11 1L1 11" stroke="currentColor" stroke-width="1.5"/></svg>
      </button>
    </div>
  </header>

  <main id="app">
    <!-- Error screen (shown if WSL not found) -->
    <section id="error-screen" class="screen hidden">
      <div class="error-card">
        <svg class="error-icon" viewBox="0 0 24 24" width="64" height="64" fill="none" stroke="#ff4757" stroke-width="1.5">
          <circle cx="12" cy="12" r="10"/>
          <line x1="15" y1="9" x2="9" y2="15"/>
          <line x1="9" y1="9" x2="15" y2="15"/>
        </svg>
        <h2 data-i18n="error.notDetected">WSL 2 Not Detected</h2>
        <p id="error-message" data-i18n="error.notInstalled">WSL 2 is not installed or no distribution was found.</p>
        <a href="https://learn.microsoft.com/en-us/windows/wsl/install" class="link" target="_blank" data-i18n="error.installLink">Learn how to install WSL 2</a>
      </div>
    </section>

    <!-- Splash + Loading screen -->
    <section id="loading-screen" class="screen">
      <!-- Phase 1: Splash -->
      <div id="splash" class="splash">
        <div class="splash-glow"></div>
        <div class="splash-particles">
          <div></div><div></div><div></div><div></div>
          <div></div><div></div><div></div><div></div>
          <div></div><div></div><div></div><div></div>
        </div>
        <svg class="splash-logo" viewBox="0 0 64 64" width="80" height="80" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <!-- Terminal window frame -->
          <rect x="6" y="8" width="52" height="44" rx="6" stroke="var(--accent)" stroke-width="2"/>
          <!-- Title bar dots -->
          <circle cx="16" cy="17" r="2" stroke="var(--accent)" stroke-width="1.5"/>
          <circle cx="24" cy="17" r="2" stroke="var(--accent)" stroke-width="1.5"/>
          <circle cx="32" cy="17" r="2" stroke="var(--accent)" stroke-width="1.5"/>
          <!-- Prompt lines -->
          <path d="M16 28l6 4-6 4" stroke="var(--accent)" stroke-width="2"/>
          <line x1="28" y1="36" x2="44" y2="36" stroke="var(--accent)" stroke-width="2"/>
          <!-- Sparkle / clean star -->
          <path d="M46 24l1.5 3 3 1.5-3 1.5-1.5 3-1.5-3-3-1.5 3-1.5z" stroke="var(--accent)" stroke-width="1.5"/>
        </svg>
        <h1 class="splash-title">WSL Cleaner</h1>
        <p class="splash-tagline">
          <span>Clean.</span>
          <span>Optimize.</span>
          <span>Compact.</span>
        </p>
      </div>
      <!-- Phase 2: Detecting WSL -->
      <div id="detecting" class="detecting hidden">
        <div class="scan-line"></div>
        <div class="orbital-spinner">
          <div class="orbit orbit-1"></div>
          <div class="orbit orbit-2"></div>
          <div class="orbit orbit-3"></div>
          <div class="orbit-core"></div>
        </div>
        <p class="detecting-text" data-i18n="status.detecting">
          Detecting WSL 2<span class="detecting-dots"></span>
        </p>
      </div>
    </section>

    <!-- Main app screen -->
    <section id="main-screen" class="screen hidden">
      <!-- Status bar -->
      <div id="status-bar">
        <span class="status-dot"></span>
        <span id="status-text" data-i18n="status.ready">WSL 2 Ready</span>
        <div id="distro-picker" class="distro-picker">
          <button id="distro-picker-btn" class="badge distro-picker-btn">
            <span id="distro-picker-label" data-i18n="distro.none">No distro</span>
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
              <polyline points="6,9 12,15 18,9"/>
            </svg>
          </button>
          <div id="distro-dropdown" class="distro-dropdown hidden">
            <!-- checkboxes injected by JS -->
          </div>
        </div>
      </div>

      <!-- Sidebar + content layout -->
      <div id="main-layout">
        <nav id="sidebar">
          <a class="nav-item active" data-page="cleaner">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polygon points="13,2 3,14 12,14 11,22 21,10 12,10"/>
            </svg>
            <span data-i18n="nav.cleaner">Cleaner</span>
          </a>
          <a class="nav-item" data-page="settings">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
            </svg>
            <span data-i18n="nav.settings">Settings</span>
          </a>
          <a class="nav-item" data-page="stats">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/>
            </svg>
            <span data-i18n="nav.stats">Stats</span>
          </a>
          <a class="nav-item" data-page="diskmap">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="4"/><rect x="14" y="10" width="7" height="3"/><rect x="3" y="13" width="7" height="8"/><rect x="14" y="16" width="7" height="5"/>
            </svg>
            <span data-i18n="nav.diskmap">Disk Map</span>
          </a>
          <a class="nav-item" data-page="health">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
            </svg>
            <span data-i18n="nav.health">Health</span>
          </a>
          <a class="nav-item" data-page="distros">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="2" y="2" width="20" height="8" rx="2"/><rect x="2" y="14" width="20" height="8" rx="2"/><circle cx="6" cy="6" r="1"/><circle cx="6" cy="18" r="1"/>
            </svg>
            <span data-i18n="nav.distros">Distros</span>
          </a>
          <div class="nav-spacer"></div>
          <a class="nav-item" data-page="about">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/>
            </svg>
            <span data-i18n="nav.about">About</span>
          </a>
        </nav>

        <div id="page-container">
          <!-- ════ Cleaner Page ════ -->
          <div id="page-cleaner" class="page">
            <div class="simple-center">
              <div class="simple-hero">
                <div class="cleaner-logo-wrap">
                  <div class="cleaner-glow"></div>
                  <div class="cleaner-particles">
                    <div></div><div></div><div></div><div></div>
                    <div></div><div></div><div></div><div></div>
                  </div>
                  <img src="../assets/icon.png" class="cleaner-logo" alt="" width="80" height="80" draggable="false">
                </div>
                <h2 class="simple-title" data-i18n="simple.diskSize">WSL Disk Size</h2>
                <div id="simple-size" class="simple-size-value">--</div>
                <p class="simple-desc" data-i18n="simple.desc">Clean your WSL instance and compact the virtual disk to reclaim space.</p>
              </div>

              <div id="simple-estimate" class="simple-estimate hidden">
                <button id="btn-simple-estimate" class="btn-outline btn-estimate btn-sm">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
                  </svg>
                  <span data-i18n="simple.estimateBtn">Estimate Reclaimable Space</span>
                </button>
                <div id="simple-estimate-result" class="simple-estimate-result hidden">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17,8 12,3 7,8"/><line x1="12" y1="3" x2="12" y2="15"/>
                  </svg>
                  <span><span data-i18n="simple.estimateLabel">Estimated reclaimable:</span> <strong id="simple-estimate-total">--</strong></span>
                </div>
              </div>

              <button id="btn-simple-go" class="btn-primary btn-simple-go">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5,3 19,12 5,21"/></svg>
                <span id="btn-simple-go-label" data-i18n-html="simple.cleanCompact">Clean &amp; Compact</span>
              </button>

              <!-- Disclaimer -->
              <div class="simple-disclaimer">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
                <span data-i18n-html="simple.disclaimer">This deletes files &amp; old dependency directories. Use <strong>Settings</strong> to see exactly what will be cleaned and control each task. Designed for WSL partitions used for development.</span>
              </div>

              <!-- Step progress list -->
              <div id="simple-steps" class="simple-steps hidden">
                <div class="progress-header">
                  <div class="orbital-spinner orbital-spinner-sm">
                    <div class="orbit orbit-1"></div>
                    <div class="orbit orbit-2"></div>
                    <div class="orbit orbit-3"></div>
                    <div class="orbit-core"></div>
                  </div>
                  <div class="progress-bar-track">
                    <div id="simple-progress-fill" class="progress-bar-fill" style="width:0%"></div>
                  </div>
                  <div class="progress-info">
                    <span id="simple-step-counter"></span>
                    <span id="simple-elapsed">0:00</span>
                  </div>
                </div>
                <div class="scan-line"></div>
                <div class="step-item" data-step="stale">
                  <div class="step-icon-slot"></div>
                  <span class="step-label" data-i18n-html="simple.step.stale">Scanning &amp; removing stale directories...</span>
                </div>
                <div class="step-item" data-step="cleanup">
                  <div class="step-icon-slot"></div>
                  <span class="step-label" data-i18n="simple.step.cleanup">Running cleanup tasks...</span>
                </div>
                <div class="step-item" data-step="fstrim">
                  <div class="step-icon-slot"></div>
                  <span class="step-label" data-i18n="simple.step.fstrim">Running filesystem TRIM...</span>
                </div>
                <div class="step-item" data-step="shutdown">
                  <div class="step-icon-slot"></div>
                  <span class="step-label" data-i18n="simple.step.shutdown">Shutting down WSL...</span>
                </div>
                <div class="step-item" data-step="update">
                  <div class="step-icon-slot"></div>
                  <span class="step-label" data-i18n="simple.step.update">Updating WSL...</span>
                </div>
                <div class="step-item" data-step="compact">
                  <div class="step-icon-slot"></div>
                  <span class="step-label" data-i18n="simple.step.compact">Compacting virtual disk...</span>
                </div>
                <div class="step-item" data-step="restart">
                  <div class="step-icon-slot"></div>
                  <span class="step-label" data-i18n="simple.step.restart">Restarting WSL...</span>
                </div>
              </div>

              <!-- Result card (reused structure) -->
              <div id="simple-result" class="hidden">
                <div class="result-card">
                  <h3 data-i18n="result.complete">Cleanup Complete</h3>
                  <div class="size-comparison">
                    <div class="size-box">
                      <span class="size-label" data-i18n="result.before">Before</span>
                      <span id="simple-size-before" class="size-value">--</span>
                    </div>
                    <svg class="arrow-icon" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2">
                      <line x1="5" y1="12" x2="19" y2="12"/><polyline points="12,5 19,12 12,19"/>
                    </svg>
                    <div class="size-box">
                      <span class="size-label" data-i18n="result.after">After</span>
                      <span id="simple-size-after" class="size-value">--</span>
                    </div>
                  </div>
                  <div class="savings">
                    <span data-i18n="result.spaceSaved">Space Saved:</span>
                    <span> </span>
                    <span id="simple-space-saved" class="accent">--</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- ════ Settings Page ════ -->
          <div id="page-settings" class="page hidden">
            <!-- Cleanup tasks -->
            <h2 class="section-title" data-i18n="settings.tasksTitle">Cleanup Tasks</h2>
            <p class="section-desc" data-i18n="settings.tasksDesc">Choose which cleanup tasks the Cleaner will run. Your selections are saved automatically.</p>

            <!-- Search & filters -->
            <div class="task-filters">
              <div class="task-search-wrap">
                <svg class="task-search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
                </svg>
                <input type="text" id="task-search" class="task-search"
                       data-i18n-placeholder="settings.searchPlaceholder"
                       placeholder="Search tasks..." autocomplete="off" />
              </div>
            </div>

            <div id="task-cards"></div>

            <!-- Stale Directories -->
            <h2 class="section-title" style="margin-top: 32px;" data-i18n="stale.title">Stale Directories</h2>
            <p class="section-desc" data-i18n-html="stale.desc">Find and remove old dependency, build, and cache directories (<code>node_modules</code>, <code>vendor</code>, <code>__pycache__</code>, <code>.next</code>, <code>.nuxt</code>, <code>.turbo</code>, <code>.yarn</code>, <code>target</code>, <code>.gradle</code>, <code>dist</code>, <code>.venv</code>, and more) that haven't been modified recently. These are safe to delete &mdash; they'll be recreated automatically when you next build or install.</p>

            <div class="stale-controls">
              <div class="stale-toggle-row">
                <label class="toggle" onclick="event.stopPropagation()">
                  <input type="checkbox" id="stale-enabled-cb" checked />
                  <span class="toggle-slider"></span>
                </label>
                <span class="stale-toggle-label" data-i18n="stale.enableToggle">Enable stale directory cleanup</span>
              </div>
              <div class="stale-days-row">
                <label for="stale-days-input" data-i18n="stale.daysLabel">Remove directories not modified in the last</label>
                <input type="number" id="stale-days-input" class="stale-days-input" value="30" min="1" max="365" />
                <span data-i18n="stale.daysUnit">days</span>
              </div>
            </div>

            <!-- Disk Compaction -->
            <h2 class="section-title" style="margin-top: 32px;" data-i18n="settings.compactTitle">Disk Compaction</h2>
            <p class="section-desc" data-i18n="settings.compactDesc">When enabled, the Cleaner will shut down WSL, update it, and compact the virtual disk after running cleanup tasks.</p>

            <div class="stale-controls">
              <div class="stale-toggle-row">
                <label class="toggle" onclick="event.stopPropagation()">
                  <input type="checkbox" id="compact-enabled-cb" checked />
                  <span class="toggle-slider"></span>
                </label>
                <span class="stale-toggle-label" data-i18n="settings.compactToggle">Compact disk after cleaning</span>
              </div>
            </div>

            <div id="vhdx-info" class="card">
              <div class="card-body">
                <div class="vhdx-details">
                  <div class="vhdx-row">
                    <span class="label" data-i18n="compact.vdisk">Virtual Disk</span>
                    <span id="vhdx-path" class="value mono" data-i18n="compact.searching">Searching...</span>
                  </div>
                  <div class="vhdx-row">
                    <span class="label" data-i18n="compact.currentSize">Current Size</span>
                    <span id="vhdx-size" class="value mono">--</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- ════ Stats Page ════ -->
          <div id="page-stats" class="page hidden">
            <h2 class="section-title" data-i18n="stats.title">Cleanup Stats</h2>
            <p class="section-desc" data-i18n="stats.desc">Track your cleanup history and see how much space you've recovered over time.</p>

            <!-- Summary stat cards -->
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17,8 12,3 7,8"/><line x1="12" y1="3" x2="12" y2="15"/>
                  </svg>
                </div>
                <div class="stat-value" id="stat-total-saved">--</div>
                <div class="stat-label" data-i18n="stats.totalSaved">Total Space Saved</div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="1,4 1,10 7,10"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
                  </svg>
                </div>
                <div class="stat-value" id="stat-total-cleanups">0</div>
                <div class="stat-label" data-i18n="stats.cleanups">Cleanups Performed</div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="20" x2="12" y2="10"/><polyline points="18,20 18,4 6,20 6,14"/>
                  </svg>
                </div>
                <div class="stat-value" id="stat-avg-saved">--</div>
                <div class="stat-label" data-i18n="stats.avgSaved">Avg Space Saved</div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/>
                  </svg>
                </div>
                <div class="stat-value" id="stat-last-cleanup" data-i18n="stats.never">Never</div>
                <div class="stat-label" data-i18n="stats.lastCleanup">Last Cleanup</div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/><path d="M12 6v6l4 2"/>
                  </svg>
                </div>
                <div class="stat-value" id="stat-streak">--</div>
                <div class="stat-label" data-i18n="stats.streak">Cleanup Streak</div>
              </div>
            </div>

            <!-- Charts -->
            <div class="chart-card">
              <div class="chart-header" data-i18n="stats.diskChart">Disk Size Over Time</div>
              <div class="chart-body">
                <canvas id="chart-disk-size"></canvas>
              </div>
              <div id="chart-disk-empty" class="chart-empty hidden" data-i18n="stats.diskEmpty">No compaction data yet. Run a cleanup to start tracking.</div>
            </div>

            <div class="chart-card">
              <div class="chart-header" data-i18n="stats.savedChart">Space Saved Per Session</div>
              <div class="chart-body">
                <canvas id="chart-space-saved"></canvas>
              </div>
              <div id="chart-saved-empty" class="chart-empty hidden" data-i18n="stats.savedEmpty">No sessions with space savings yet.</div>
            </div>

            <!-- History list -->
            <div class="history-section">
              <div class="history-header">
                <h3 data-i18n="stats.history">Cleanup History</h3>
                <button id="btn-clear-history" class="btn-small" data-i18n="stats.clearHistory">Clear History</button>
              </div>
              <div id="history-list" class="history-list">
                <div class="stats-empty" id="history-empty">
                  <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/>
                  </svg>
                  <p data-i18n="stats.historyEmpty">No cleanup history yet. Run a cleanup to start tracking your stats.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- ════ Disk Map Page ════ -->
          <div id="page-diskmap" class="page hidden">
            <div class="diskmap-toolbar">
              <div class="diskmap-toolbar-left">
                <label class="diskmap-label" data-i18n="diskmap.distro">Distro</label>
                <select id="diskmap-distro" class="diskmap-select"></select>
                <label class="diskmap-label" data-i18n="diskmap.depth">Depth</label>
                <select id="diskmap-depth" class="diskmap-select">
                  <option value="2">2</option>
                  <option value="3" selected>3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                </select>
              </div>
              <div class="diskmap-toolbar-right">
                <button id="btn-diskmap-scan" class="btn-primary btn-diskmap-scan">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
                  </svg>
                  <span data-i18n="diskmap.scan">Scan</span>
                </button>
                <button id="btn-diskmap-cancel" class="btn-outline btn-diskmap-cancel hidden">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
                  </svg>
                  <span data-i18n="diskmap.cancel">Cancel</span>
                </button>
              </div>
            </div>
            <div id="diskmap-breadcrumb" class="diskmap-breadcrumb hidden"></div>
            <div id="diskmap-status" class="diskmap-status hidden"></div>
            <div id="diskmap-treemap" class="diskmap-treemap"></div>
            <div id="diskmap-empty" class="diskmap-empty">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="4"/><rect x="14" y="10" width="7" height="3"/><rect x="3" y="13" width="7" height="8"/><rect x="14" y="16" width="7" height="5"/>
              </svg>
              <p data-i18n="diskmap.empty">Select a distro and click Scan to visualize disk usage.</p>
            </div>
            <div id="diskmap-scanning" class="diskmap-scanning hidden">
              <div class="spinner"></div>
              <p data-i18n="diskmap.scanning">Scanning filesystem...</p>
              <p class="diskmap-scanning-sub" data-i18n="diskmap.scanningDesc">Running du inside WSL. This may take a moment for large filesystems.</p>
            </div>
          </div>

          <!-- ════ Health Page ════ -->
          <div id="page-health" class="page hidden">
            <div class="health-toolbar">
              <div class="health-toolbar-left">
                <label class="health-label" data-i18n="health.distro">Distro</label>
                <select id="health-distro" class="health-select"></select>
              </div>
              <div class="health-toolbar-right">
                <button id="btn-health-refresh" class="btn-outline btn-health-refresh">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="1,4 1,10 7,10"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
                  </svg>
                  <span data-i18n="health.refresh">Refresh</span>
                </button>
              </div>
            </div>

            <!-- Summary cards -->
            <div id="health-content" class="hidden">
              <!-- Distro OS info banner -->
              <div id="health-os-banner" class="health-info-banner">
                <span id="health-os-name" class="health-os-name">--</span>
              </div>

              <div class="health-grid">
                <div class="health-card">
                  <div class="health-card-icon">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <rect x="4" y="4" width="16" height="16" rx="2"/><line x1="4" y1="12" x2="20" y2="12"/><line x1="12" y1="4" x2="12" y2="20"/>
                    </svg>
                  </div>
                  <div class="health-card-value" id="health-kernel">--</div>
                  <div class="health-card-label" data-i18n="health.kernel">Kernel</div>
                </div>
                <div class="health-card">
                  <div class="health-card-icon">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <circle cx="12" cy="12" r="10"/><polyline points="12,6 12,12 16,14"/>
                    </svg>
                  </div>
                  <div class="health-card-value" id="health-uptime">--</div>
                  <div class="health-card-label" data-i18n="health.uptime">Uptime</div>
                </div>
                <div class="health-card">
                  <div class="health-card-icon">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <rect x="4" y="4" width="16" height="16" rx="2"/><path d="M9 9h6v6H9z"/>
                    </svg>
                  </div>
                  <div class="health-card-value" id="health-cpu-load">--</div>
                  <div class="health-card-label" data-i18n="health.cpuLoad">CPU Load</div>
                </div>
                <div class="health-card">
                  <div class="health-card-icon">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M22 12H2"/><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"/>
                    </svg>
                  </div>
                  <div class="health-card-value" id="health-mem-summary">--</div>
                  <div class="health-card-label" data-i18n="health.memory">Memory</div>
                </div>
              </div>

              <!-- Memory detail -->
              <div class="health-detail-card">
                <div class="health-detail-header" data-i18n="health.memUsage">Memory Usage</div>
                <div class="health-detail-body">
                  <div class="health-bar-row">
                    <span class="health-bar-label">RAM</span>
                    <div class="health-bar"><div class="health-bar-fill" id="health-ram-bar"></div></div>
                    <span class="health-bar-value" id="health-ram-text">--</span>
                  </div>
                  <div class="health-bar-row">
                    <span class="health-bar-label" data-i18n="health.swap">Swap</span>
                    <div class="health-bar"><div class="health-bar-fill" id="health-swap-bar"></div></div>
                    <span class="health-bar-value" id="health-swap-text">--</span>
                  </div>
                  <div id="health-wslconfig-row" class="health-wslconfig-note hidden">
                    <span id="health-wslconfig-text"></span>
                  </div>
                </div>
              </div>

              <!-- Disk detail -->
              <div class="health-detail-card">
                <div class="health-detail-header" data-i18n="health.disk">Disk Usage</div>
                <div class="health-detail-body">
                  <div class="health-bar-row">
                    <span class="health-bar-label">/</span>
                    <div class="health-bar"><div class="health-bar-fill" id="health-disk-bar"></div></div>
                    <span class="health-bar-value" id="health-disk-text">--</span>
                  </div>
                </div>
              </div>

              <!-- Network -->
              <div class="health-detail-card">
                <div class="health-detail-header" data-i18n="health.network">Network</div>
                <div class="health-detail-body">
                  <table class="health-table" id="health-network-table">
                    <thead>
                      <tr>
                        <th data-i18n="health.iface">Interface</th>
                        <th data-i18n="health.rx">RX</th>
                        <th data-i18n="health.tx">TX</th>
                      </tr>
                    </thead>
                    <tbody id="health-network-body"></tbody>
                  </table>
                  <div id="health-network-empty" class="health-table-empty hidden" data-i18n="health.noNetwork">No network interfaces found.</div>
                </div>
              </div>

              <!-- Quick Status Row: DNS, I/O Pressure, Zombies -->
              <div class="health-status-grid">
                <!-- DNS Status -->
                <div class="health-detail-card">
                  <div class="health-detail-header" data-i18n="health.dns">DNS</div>
                  <div class="health-detail-body">
                    <div class="health-kv-row">
                      <span class="health-kv-label" data-i18n="health.dnsStatus">Status</span>
                      <span class="health-kv-value" id="health-dns-status">--</span>
                    </div>
                    <div class="health-kv-row">
                      <span class="health-kv-label" data-i18n="health.dnsServer">Server</span>
                      <span class="health-kv-value mono" id="health-dns-server">--</span>
                    </div>
                  </div>
                </div>

                <!-- I/O Pressure -->
                <div class="health-detail-card" id="health-io-card">
                  <div class="health-detail-header" data-i18n="health.ioPressure">I/O Pressure</div>
                  <div class="health-detail-body">
                    <div class="health-bar-row">
                      <span class="health-bar-label" data-i18n="health.some">Some</span>
                      <div class="health-bar"><div class="health-bar-fill" id="health-io-some-bar"></div></div>
                      <span class="health-bar-value" id="health-io-some-text">--</span>
                    </div>
                    <div class="health-bar-row">
                      <span class="health-bar-label" data-i18n="health.full">Full</span>
                      <div class="health-bar"><div class="health-bar-fill" id="health-io-full-bar"></div></div>
                      <span class="health-bar-value" id="health-io-full-text">--</span>
                    </div>
                    <div id="health-io-empty" class="health-table-empty hidden" data-i18n="health.noIoPressure">I/O pressure data not available.</div>
                  </div>
                </div>

                <!-- Zombies -->
                <div class="health-detail-card">
                  <div class="health-detail-header">
                    <span data-i18n="health.zombies">Zombie Processes</span>
                    <span class="health-badge" id="health-zombie-badge">0</span>
                  </div>
                  <div class="health-detail-body">
                    <table class="health-table" id="health-zombie-table">
                      <thead>
                        <tr>
                          <th data-i18n="health.pid">PID</th>
                          <th data-i18n="health.user">User</th>
                          <th data-i18n="health.command">Command</th>
                        </tr>
                      </thead>
                      <tbody id="health-zombie-body"></tbody>
                    </table>
                    <div id="health-zombie-empty" class="health-table-empty" data-i18n="health.noZombies">No zombie processes.</div>
                  </div>
                </div>
              </div>

              <!-- Services Row: Docker, Systemd -->
              <div class="health-status-grid health-status-grid-2">
                <!-- Docker -->
                <div class="health-detail-card" id="health-docker-card">
                  <div class="health-detail-header" data-i18n="health.docker">Docker</div>
                  <div class="health-detail-body">
                    <div class="health-kv-row">
                      <span class="health-kv-label" data-i18n="health.dockerRunning">Running</span>
                      <span class="health-kv-value health-badge-inline" id="health-docker-running">0</span>
                    </div>
                    <div class="health-kv-row">
                      <span class="health-kv-label" data-i18n="health.dockerStopped">Stopped</span>
                      <span class="health-kv-value" id="health-docker-stopped">0</span>
                    </div>
                    <div class="health-kv-row">
                      <span class="health-kv-label" data-i18n="health.dockerTotal">Total</span>
                      <span class="health-kv-value" id="health-docker-total">0</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Systemd (full-width) -->
              <div class="health-detail-card" id="health-systemd-card">
                <div class="health-detail-header">
                  <span data-i18n="health.systemd">Systemd</span>
                  <span class="health-badge" id="health-systemd-badge">--</span>
                </div>
                <div class="health-detail-body">
                  <div id="health-systemd-summary" class="health-systemd-summary"></div>
                  <div id="health-systemd-failed" class="hidden">
                    <div class="health-kv-label" style="margin-top: 10px;" data-i18n="health.failedUnits">Failed Units</div>
                    <div id="health-systemd-failed-list" class="health-failed-list"></div>
                  </div>
                </div>
              </div>

              <!-- Listening Ports -->
              <div class="health-detail-card" id="health-ports-card">
                <div class="health-detail-header" data-i18n="health.ports">Listening Ports</div>
                <div class="health-detail-body">
                  <table class="health-table" id="health-ports-table">
                    <thead>
                      <tr>
                        <th data-i18n="health.proto">Proto</th>
                        <th data-i18n="health.address">Address</th>
                        <th data-i18n="health.portProcess">Process</th>
                      </tr>
                    </thead>
                    <tbody id="health-ports-body"></tbody>
                  </table>
                  <div id="health-ports-empty" class="health-table-empty hidden" data-i18n="health.noPorts">No listening ports.</div>
                </div>
              </div>

              <!-- System Info -->
              <div class="health-detail-card">
                <div class="health-detail-header" data-i18n="health.systemInfo">System Info</div>
                <div class="health-detail-body">
                  <div class="health-kv-row">
                    <span class="health-kv-label" data-i18n="health.packages">Installed Packages</span>
                    <span class="health-kv-value mono" id="health-packages">--</span>
                  </div>
                  <div class="health-kv-row">
                    <span class="health-kv-label" data-i18n="health.gpu">GPU</span>
                    <span class="health-kv-value" id="health-gpu">--</span>
                  </div>
                  <div class="health-kv-row">
                    <span class="health-kv-label" data-i18n="health.interop">WSL Interop</span>
                    <span class="health-kv-value" id="health-interop">--</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Loading state -->
            <div id="health-loading" class="health-loading hidden">
              <div class="spinner"></div>
              <p data-i18n="health.loading">Collecting system metrics...</p>
            </div>

            <!-- Empty state -->
            <div id="health-empty" class="health-empty">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
              </svg>
              <p data-i18n="health.empty">Select a distro to view health metrics.</p>
            </div>

            <!-- Error state -->
            <div id="health-error" class="health-error hidden">
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--danger)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/>
              </svg>
              <p id="health-error-msg" data-i18n="health.error">Could not retrieve health data. Make sure the distro is running.</p>
            </div>
          </div>

          <!-- ════ Distros Page ════ -->
          <div id="page-distros" class="page hidden">
            <div class="distros-toolbar">
              <div class="distros-toolbar-left">
                <h2 class="section-title" style="margin:0" data-i18n="distros.title">Distro Manager</h2>
              </div>
              <div class="distros-toolbar-right">
                <button id="btn-distros-refresh" class="btn-outline btn-health-refresh">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="1,4 1,10 7,10"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
                  </svg>
                  <span data-i18n="distros.refresh">Refresh</span>
                </button>
              </div>
            </div>
            <p class="section-desc" data-i18n="distros.desc">Export, import, clone, and restart your WSL distributions. Compare size, packages, and uptime across all distros at a glance.</p>

            <!-- Comparison table -->
            <div id="distros-table-container"></div>

            <!-- Loading state -->
            <div id="distros-loading" class="health-loading hidden">
              <div class="spinner"></div>
              <p data-i18n="distros.loading">Loading distro information...</p>
            </div>

            <!-- Empty state -->
            <div id="distros-empty" class="health-empty hidden">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <rect x="2" y="2" width="20" height="8" rx="2"/><rect x="2" y="14" width="20" height="8" rx="2"/><circle cx="6" cy="6" r="1"/><circle cx="6" cy="18" r="1"/>
              </svg>
              <p data-i18n="distros.noDistros">No WSL 2 distros found.</p>
            </div>

            <!-- Import section -->
            <div class="card distros-import-card" id="distros-import-section">
              <div class="card-body">
                <h3 data-i18n="distros.importTitle">Import Distro</h3>
                <div class="distros-import-row">
                  <div class="distros-import-field">
                    <label data-i18n="distros.importName">Distro Name</label>
                    <input type="text" id="distros-import-name" class="distros-input" placeholder="MyDistro" data-i18n-placeholder="distros.importNamePlaceholder" autocomplete="off" />
                  </div>
                  <div class="distros-import-field">
                    <label data-i18n="distros.importLocation">Install Location</label>
                    <div class="distros-import-path-row">
                      <input type="text" id="distros-import-location" class="distros-input distros-input-wide" placeholder="C:\WSL\MyDistro" data-i18n-placeholder="distros.importLocationPlaceholder" autocomplete="off" />
                      <button id="distros-import-browse-location" class="btn-outline btn-sm" data-i18n="distros.browse">Browse</button>
                    </div>
                  </div>
                  <div class="distros-import-field">
                    <label data-i18n="distros.importFile">.tar Archive</label>
                    <div class="distros-import-path-row">
                      <input type="text" id="distros-import-tar" class="distros-input distros-input-wide" placeholder="backup.tar" readonly />
                      <button id="distros-import-browse-tar" class="btn-outline btn-sm" data-i18n="distros.browseTar">Browse</button>
                    </div>
                  </div>
                </div>
                <button id="distros-import-btn" class="btn-primary btn-sm" style="margin-top:12px;">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7,10 12,15 17,10"/><line x1="12" y1="15" x2="12" y2="3"/>
                  </svg>
                  <span data-i18n="distros.importBtn">Import</span>
                </button>
              </div>
            </div>

            <!-- Activity log -->
            <div class="card distros-log-card" id="distros-log-section">
              <div class="card-body">
                <div class="distros-log-header">
                  <h3 data-i18n="distros.logTitle">Activity Log</h3>
                  <button id="distros-log-clear" class="btn-small" data-i18n="log.clear">Clear</button>
                </div>
                <pre id="distros-log" class="distros-log"></pre>
              </div>
            </div>
          </div>

          <!-- ════ About Page ════ -->
          <div id="page-about" class="page hidden">
            <div class="about-center">
              <div class="about-logo">
                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/>
                </svg>
              </div>
              <h2 class="about-title" data-i18n="app.title">WSL Cleaner</h2>
              <span id="about-version" class="badge">v1.0.0</span>
              <p class="about-desc" data-i18n="about.desc">A lightweight utility to clean, optimize, and compact your Windows Subsystem for Linux installation. Reclaim disk space with one click.</p>

              <!-- Update status area -->
              <div id="update-status" class="update-status hidden"></div>

              <div class="about-links">
                <button id="btn-check-updates" class="btn-primary">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="1,4 1,10 7,10"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
                  </svg>
                  <span data-i18n="about.checkUpdates">Check for Updates</span>
                </button>
                <button id="btn-install-update" class="btn-primary btn-success hidden">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7,10 12,15 17,10"/><line x1="12" y1="15" x2="12" y2="3"/>
                  </svg>
                  <span data-i18n-html="about.installRestart">Install &amp; Restart</span>
                </button>
                <button id="btn-github" class="btn-outline">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0 0 24 12c0-6.63-5.37-12-12-12z"/>
                  </svg>
                  <span data-i18n="about.viewGithub">View on GitHub</span>
                </button>
              </div>

              <!-- Language selector -->
              <div class="language-selector">
                <label data-i18n="language.label">Language</label>
                <select id="locale-select"></select>
              </div>

              <!-- Sound toggle -->
              <div class="sound-toggle">
                <label data-i18n="sound.label">Sound Effects</label>
                <label class="toggle" onclick="event.stopPropagation()">
                  <input type="checkbox" id="sound-enabled-cb" checked>
                  <span class="toggle-slider"></span>
                </label>
              </div>

              <div class="about-footer">
                <p data-i18n="about.footer">Made for the WSL community</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Aggressive task confirmation modal -->
  <div id="aggressive-modal" class="modal-overlay hidden">
    <div class="modal-card">
      <div class="modal-header">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--warning)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/>
        </svg>
        <h3 data-i18n="modal.aggressiveTitle">Aggressive Tasks Enabled</h3>
      </div>
      <p class="modal-desc" data-i18n-html="modal.aggressiveDesc">The following tasks will <strong>permanently destroy data</strong> that may be difficult or impossible to restore:</p>
      <div id="aggressive-modal-list" class="modal-task-list"></div>
      <p class="modal-hint" data-i18n-html="modal.aggressiveHint">These tasks are marked <span class="chip-aggressive" style="display:inline-block;vertical-align:middle;">aggressive</span> because they remove data beyond typical caches. Make sure you understand the consequences before proceeding.</p>
      <div class="modal-actions">
        <button id="aggressive-modal-cancel" class="btn-outline modal-btn" data-i18n="modal.cancel">Cancel</button>
        <button id="aggressive-modal-proceed" class="btn-primary btn-danger modal-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polygon points="5,3 19,12 5,21"/></svg>
          <span data-i18n="modal.proceed">Proceed Anyway</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Clone distro modal -->
  <div id="clone-modal" class="modal-overlay hidden">
    <div class="modal-card">
      <div class="modal-header">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
        </svg>
        <h3 data-i18n="distros.cloneTitle">Clone Distro</h3>
      </div>
      <p class="modal-desc" id="clone-modal-desc"></p>
      <div class="distros-import-field" style="margin-top:12px;">
        <label data-i18n="distros.cloneNameLabel">New Distro Name</label>
        <input type="text" id="clone-modal-name" class="distros-input" placeholder="Ubuntu-Clone" data-i18n-placeholder="distros.cloneNamePlaceholder" autocomplete="off" />
      </div>
      <div class="distros-import-field" style="margin-top:8px;">
        <label data-i18n="distros.cloneLocationLabel">Install Location</label>
        <div class="distros-import-path-row">
          <input type="text" id="clone-modal-location" class="distros-input distros-input-wide" placeholder="C:\WSL\Ubuntu-Clone" data-i18n-placeholder="distros.cloneLocationPlaceholder" autocomplete="off" />
          <button id="clone-modal-browse" class="btn-outline btn-sm" data-i18n="distros.browse">Browse</button>
        </div>
      </div>
      <div class="modal-actions">
        <button id="clone-modal-cancel" class="btn-outline modal-btn" data-i18n="modal.cancel">Cancel</button>
        <button id="clone-modal-confirm" class="btn-primary modal-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
          </svg>
          <span data-i18n="distros.cloneBtn">Clone</span>
        </button>
      </div>
    </div>
  </div>

  <script src="utils.js"></script>
  <script src="i18n.js"></script>
  <script src="tasks.js"></script>
  <script src="chart.umd.min.js"></script>
  <script src="treemap.js"></script>
  <script src="app.js"></script>
</body>
</html>
